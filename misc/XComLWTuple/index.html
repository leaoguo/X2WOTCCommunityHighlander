<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>XComLWTuple - X2WOTCCommunityHighlander</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "XComLWTuple";
    var mkdocs_page_input_path = "misc/XComLWTuple.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/ini.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/unrealscript.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> X2WOTCCommunityHighlander</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">X2WOTCCommunityHighlander Documentation</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../Bugfixes/">Bugfixes</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../compatibility/">Compatibility</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../customization/">Customization</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../dlc2/">Dlc2</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../events/">Events</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../loadoutslots/">Loadout Slots</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../pawns/">Pawns</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../ui/">User Interface</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Misc</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../ArmorEquipRollDLCPartChance/">ArmorEquipRollDLCPartChance</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../CHEventListenerTemplate/">CHEventListenerTemplate</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../ChangeDefaultWeaponColor/">ChangeDefaultWeaponColor</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../ClassIsNative/">ClassIsNative</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../ComponentVersions/">ComponentVersions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../CustomInventorySlots/">CustomInventorySlots</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../DLCAppendWeaponSockets/">DLCAppendWeaponSockets</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../DebugStartSecondWave/">DebugStartSecondWave</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../SubscribeToOnInput/">SubscribeToOnInput</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../SubscribeToOnInputForScreen/">SubscribeToOnInputForScreen</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../TintMaterialConfigs/">TintMaterialConfigs</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../UpdateHumanPawnMeshComponent/">UpdateHumanPawnMeshComponent</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../UpdateHumanPawnMeshMaterial/">UpdateHumanPawnMeshMaterial</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">XComLWTuple</a>
    <ul class="current">
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Strategy</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../strategy/CovertAction_OverrideCostScalar/">CovertAction_OverrideCostScalar</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../strategy/CovertAction_OverrideRewardScalar/">CovertAction_OverrideRewardScalar</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../strategy/FirstPromotionOverrideClass/">FirstPromotionOverrideClass</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../strategy/OnBestGearLoadoutApplied/">OnBestGearLoadoutApplied</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../strategy/OverrideDarkEventCount/">OverrideDarkEventCount</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../strategy/OverrideHasAmmoPocket/">OverrideHasAmmoPocket</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../strategy/OverrideHasExtraUtilitySlot/">OverrideHasExtraUtilitySlot</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../strategy/OverrideHasGrenadePocket/">OverrideHasGrenadePocket</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../strategy/OverrideNextRetaliationDisplay/">OverrideNextRetaliationDisplay</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../strategy/PreCompleteStrategyFromTacticalTransfer/">PreCompleteStrategyFromTacticalTransfer</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../strategy/PreDarkEventDeactivated/">PreDarkEventDeactivated</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../strategy/ShowItemInLockerList/">ShowItemInLockerList</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../strategy/ValidateGTSClassTraining/">ValidateGTSClassTraining</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Tactical</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../tactical/DamageCalc_ArmorBeforeShield/">DamageCalc_ArmorBeforeShield</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../tactical/DisplayCustomOverwatchActionPointOnUnitFlag/">DisplayCustomOverwatchActionPointOnUnitFlag</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../tactical/OverKillDamage/">OverKillDamage</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../tactical/OverrideHasInfiniteAmmo/">OverrideHasInfiniteAmmo</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../tactical/OverrideHitEffects/">OverrideHitEffects</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../tactical/OverrideProjectileInstance/">OverrideProjectileInstance</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../tactical/OverrideUnitFocusUI/">OverrideUnitFocusUI</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../tactical/PostAliensSpawned/">PostAliensSpawned</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">X2WOTCCommunityHighlander</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Misc &raquo;</li>
        
      
    
    <li>XComLWTuple</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1>XComLWTuple</h1>

<p>Tracking Issue: <a href="https://github.com/X2CommunityCore/X2WOTCCommunityHighlander/issues/754">#754</a></p>
<p>Tags: <a href="../../events/">events</a></p>
<p>XComLWTuple is based on the original LWTuple that many other mods package themselves,
but it cannot be used interchangeably with that class. That means you <em>have</em> to use
XComLWTuple for community highlander hooks that rely on it.</p>
<p>LWTuple can be used to pass information between two mods without those mods needing to
share any additional class types. Typically this information is passed using the XCOM2
event system: an event trigger passes an LWTuple as the EventData, and the listeners
can retrieve this LWTuple. Data can be passed in both directions through this system,
and the only type they both need to know about is LWTuple.</p>
<p>LWTuples contain an id (a name) and an array of LWTValue values. The name is
arbitrary and can be used to allow the sender and receiver to validate they are working
with the tuple they are expecting. The data array holds the actual data to pass.</p>
<p>LWTValue values are a union-like structure, similar to the ASValue struct used by the
Scaleform system. A value can hold a bool, int, float, string, name, or object. Values
are used by setting the field corresponding to the type you wish to store (e.g. i for
int) and setting the kind field to the corresponding enum value (LWTVInt in this case).
Readers should read only the field corresponding to the kind set in the value.</p>
<p>To use a tuple with the event system, the code firing the event should "new" a LWTuple,
set its ID field to an appropriate name, optionally fill in any information needed by
the event listeners, and pass it as the EventData for the event.</p>
<p>Listeners should cast the EventData back to a LWTuple, validate that the result is not
none, that its ID is the one they are expecting, and that any contents are as expected.
They can then store any new data needed into the tuple by adding to the data array before
returning from the listener. These listeners should typically use ELDImmediate as their
deferral mode so that the results are immediately processed and passed back to the caller,
although mods may advertise longer-lived tuples that can be processed with other
deferral strategies.</p>
<p>Note that since multiple mods can all be listening on the same event there may be multiple
mods receiving the same tuple. If more than one mod needs to return data in a tuple that
was not intended to receive data from more than one mod a conflict occurs and these mods
may be incompatible.</p>
<h2 id="list-of-data-types">List of data types</h2>
<p>The kind of data stored in a XComLWTValue. Find the corresponding
struct property names in <code>XComLWTuple.uc</code> (see <em>Source code references</em>)</p>
<pre><code class="unrealscript">enum XComLWTValueKind
{
    XComLWTVBool,
    XComLWTVInt,
    XComLWTVFloat,
    XComLWTVString,
    XComLWTVName,
    XComLWTVObject,
    XComLWTVVector,
    XComLWTVRotator,
    XComLWTVTile,
    XComLWTVArrayObjects,
    XComLWTVArrayInts,
    XComLWTVArrayFloats,
    XComLWTVArrayStrings,
    XComLWTVArrayNames,
    XComLWTVArrayVectors,
    XComLWTVArrayRotators,
    XComLWTVArrayTiles
};
</code></pre>

<h2 id="source-code-references">Source code references</h2>
<ul>
<li><a href="https://github.com/X2CommunityCore/X2WOTCCommunityHighlander/blob/master/X2WOTCCommunityHighlander/Src/XComGame/Classes/XComLWTuple.uc#L6-L43">XComLWTuple.uc:6-43</a></li>
<li><a href="https://github.com/X2CommunityCore/X2WOTCCommunityHighlander/blob/master/X2WOTCCommunityHighlander/Src/XComGame/Classes/XComLWTuple.uc#L47-L73">XComLWTuple.uc:47-73</a></li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../strategy/CovertAction_OverrideCostScalar/" class="btn btn-neutral float-right" title="CovertAction_OverrideCostScalar">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../UpdateHumanPawnMeshMaterial/" class="btn btn-neutral" title="UpdateHumanPawnMeshMaterial"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/X2CommunityCore/X2WOTCCommunityHighlander" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../UpdateHumanPawnMeshMaterial/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../../strategy/CovertAction_OverrideCostScalar/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
